/*%FSM<COMPILE "scriptedFSM.cfg, rhfsm_actionpoint">*/
/*%FSM<HEAD>*/
/*
item0[] = {"ACTIONPOINT_CORE",0,250,-250.000000,375.000000,-150.000000,425.000000,0.000000,"ACTIONPOINT" \n "CORE START"};
item1[] = {"missing_variable",4,218,-100.000000,575.000000,0.000000,625.000000,2.000000,"missing" \n "variables"};
item2[] = {"fail",1,250,50.000000,575.000000,150.000000,625.000000,0.000000,"fail"};
item3[] = {"validate",3,250,-250.000000,575.000000,-150.000000,625.000000,0.000000,"validate"};
item4[] = {"no_portals",4,218,-400.000000,575.000000,-300.000000,625.000000,1.000000,"no portals"};
item5[] = {"fail_1",1,250,-550.000000,575.000000,-450.000000,625.000000,0.000000,"fail"};
item6[] = {"begin",8,218,-250.000000,475.000000,-150.000000,525.000000,0.000000,"begin"};
item7[] = {"done",8,218,-250.000000,675.000000,-150.000000,725.000000,0.000000,"done"};
item8[] = {"condition",3,250,-250.000000,775.000000,-150.000000,825.000000,0.000000,"condition"};
item9[] = {"true",8,218,-250.000000,875.000000,-150.000000,925.000000,0.000000,"true"};
item10[] = {"triggers",4,218,-100.000000,775.000000,0.000000,825.000000,1.000000,"triggers"};
item11[] = {"trigger__t_condi",3,250,50.000000,775.000000,150.000000,825.000000,0.000000,"trigger _t" \n "condition"};
item12[] = {"false",4,218,50.000000,875.000000,150.000000,925.000000,2.000000,"false"};
item13[] = {"true",8,218,200.000000,775.000000,300.000000,825.000000,0.000000,"true"};
item14[] = {"all_triggers_che",3,250,350.000000,775.000000,450.000000,825.000000,0.000000,"all triggers" \n "checked"};
item15[] = {"true",8,218,350.000000,875.000000,450.000000,925.000000,0.000000,"true"};
item16[] = {"false",4,218,500.000000,775.000000,600.000000,825.000000,1.000000,"false"};
item17[] = {"",7,210,546.000000,721.000061,554.000061,729.000000,0.000000,""};
item18[] = {"",7,210,95.999969,721.000061,104.000031,729.000000,0.000000,""};
item19[] = {"waitUntil",3,250,50.000000,975.000000,150.000000,1025.000000,0.000000,"waitUntil"};
item20[] = {"idle",4,218,50.000000,1075.000000,150.000000,1125.000000,1.000000,"idle"};
item21[] = {"",7,210,245.999969,896.000061,254.000031,903.999939,0.000000,""};
item22[] = {"done",8,218,200.000000,975.000000,300.000000,1025.000000,0.000000,"done"};
item23[] = {"",7,210,395.999969,1171.000122,404.000031,1178.999878,0.000000,""};
item24[] = {"how_many_to_exec",3,250,-550.000000,1350.000000,-450.000000,1400.000000,0.000000,"how many" \n "to execute"};
item25[] = {"set",8,218,-400.000000,1350.000000,-300.000000,1400.000000,0.000000,"set"};
item26[] = {"portals_availabl",3,250,-850.000000,1350.000000,-750.000000,1400.000000,0.000000,"portals available"};
item27[] = {"defined",8,218,-700.000000,1375.000000,-600.000000,1425.000000,0.000000,"defined"};
item28[] = {"some",4,218,-700.000000,1325.000000,-600.000000,1375.000000,1.000000,"some"};
item29[] = {"set",8,218,-400.000000,1150.000000,-300.000000,1200.000000,0.000000,"set"};
item30[] = {"not_set",4,218,-250.000000,1250.000000,-150.000000,1300.000000,1.000000,"not" \n "set"};
item31[] = {"PlayersAlive",3,250,-250.000000,1150.000000,-150.000000,1200.000000,0.000000,"PlayersAlive"};
item32[] = {"enough_units_ali",3,250,-550.000000,1150.000000,-450.000000,1200.000000,0.000000,"enough units" \n "alive"};
item33[] = {"false",4,218,-700.000000,1150.000000,-600.000000,1200.000000,1.000000,"false"};
item34[] = {"true",8,218,-550.000000,1250.000000,-450.000000,1300.000000,0.000000,"true"};
item35[] = {"ExecutePortals",3,250,-250.000000,1350.000000,-150.000000,1400.000000,0.000000,"ExecutePortals"};
item36[] = {"",7,210,-354.000061,1271.000000,-345.999939,1278.999878,0.000000,""};
item37[] = {"all",4,218,-250.000000,1450.000000,-150.000000,1500.000000,1.000000,"all"};
item38[] = {"false",4,218,-1000.000000,1350.000000,-900.000000,1400.000000,1.000000,"false"};
item39[] = {"true",8,218,-850.000000,1450.000000,-750.000000,1500.000000,0.000000,"true"};
item40[] = {"",7,210,-354.000031,1471.000122,-345.999939,1479.000000,0.000000,""};
item41[] = {"SafeLock",3,250,-250.000000,1550.000000,-150.000000,1600.000000,0.000000,"SafeLock"};
item42[] = {"no_need_to_conti",1,250,-1150.000000,1350.000000,-1050.000000,1400.000000,0.000000,"no need to" \n "continue"};
item43[] = {"not_set",4,218,-250.000000,1650.000000,-150.000000,1700.000000,1.000000,"not" \n "set"};
item44[] = {"set",8,218,-400.000000,1550.000000,-300.000000,1600.000000,0.000000,"set"};
item45[] = {"select_a_portal",3,250,-250.000000,1950.000000,-150.000000,2000.000000,0.000000,"select a" \n "portal"};
item46[] = {"more_portals",3,250,-250.000000,2150.000000,-150.000000,2200.000000,0.000000,"more portals"};
item47[] = {"false",4,218,-250.000000,2250.000000,-150.000000,2300.000000,1.000000,"false"};
item48[] = {"done",1,250,-250.000000,2350.000000,-150.000000,2400.000000,0.000000,"done"};
item49[] = {"true",8,218,-400.000000,2150.000000,-300.000000,2200.000000,0.000000,"true"};
item50[] = {"waitUntil_1",3,250,-400.000000,2050.000000,-300.000000,2100.000000,0.000000,"waitUntil"};
item51[] = {"idle",4,218,-550.000000,2050.000000,-450.000000,2100.000000,1.000000,"idle"};
item52[] = {"ready",8,218,-400.000000,1950.000000,-300.000000,2000.000000,0.000000,"ready"};
item53[] = {"All_trigger_conditions",3,250,25.000000,1175.000000,225.000000,1200.000000,0.000000,"All trigger conditions are TRUE"};
item54[] = {"no_need_to_conti_1",1,250,-850.000000,1150.000000,-750.000000,1200.000000,0.000000,"no need to" \n "continue"};
item55[] = {"_",3,250,-1050.000000,2125.000000,-950.000000,2175.000000,0.000000,""};
item56[] = {"true",8,218,-925.000000,2125.000000,-825.000000,2175.000000,0.000000,"true"};
item57[] = {"false",4,218,-800.000000,2125.000000,-700.000000,2175.000000,1.000000,"false"};
item58[] = {"__1",1,250,-1175.000000,2125.000000,-1075.000000,2175.000000,0.000000,""};
item59[] = {"",7,210,-679.000061,2146.000244,-670.999939,2154.000000,0.000000,""};
item60[] = {"there_are_room_for",3,250,-550.000000,1550.000000,-450.000000,1600.000000,0.000000,"there are room for" \n "spawning"};
item61[] = {"false",4,218,-700.000000,1550.000000,-600.000000,1600.000000,1.000000,"false"};
item62[] = {"true",8,218,-550.000000,1650.000000,-450.000000,1700.000000,0.000000,"true"};
item63[] = {"no_need_to_conti_2",1,250,-850.000000,1550.000000,-750.000000,1600.000000,0.000000,"no need to" \n "continue"};
item64[] = {"",7,210,-354.000061,1671.000122,-345.999939,1678.999878,0.000000,""};
item65[] = {"get_headless_cli",3,250,-250.000000,1750.000000,-150.000000,1800.000000,0.000000,"get" \n "headless clients"};
item66[] = {"spawning_phase",4,218,-250.000000,1850.000000,-150.000000,1900.000000,1.000000,"spawning" \n "phase"};
item67[] = {"headless_clients",8,218,-100.000000,1950.000000,0.000000,2000.000000,0.000000,"headless" \n "clients"};
item68[] = {"all_clients_loop",3,250,50.000000,1950.000000,150.000000,2000.000000,0.000000,"all clients" \n "looped"};
item69[] = {"true",8,218,200.000000,1950.000000,300.000000,2000.000000,0.000000,"true"};
item70[] = {"false",4,218,50.000000,2050.000000,150.000000,2100.000000,1.000000,"false"};
item71[] = {"server_spawn",4,218,-250.000000,2050.000000,-150.000000,2100.000000,1.000000,"server" \n "spawn"};
item72[] = {"select_the_spawn",3,250,50.000000,2150.000000,150.000000,2200.000000,0.000000,"select the" \n "spawner"};
item73[] = {"",7,210,245.999939,2171.000000,254.000061,2178.999756,0.000000,""};
item74[] = {"headless_spawn",8,218,-100.000000,2150.000000,0.000000,2200.000000,0.000000,"headless" \n "spawn"};
item75[] = {"____FAKE____",9,0,0.000000,0.000000,0.000000,0.000000,0.000000,"____FAKE____"};
link0[] = {0,6};
link1[] = {1,2};
link2[] = {3,1};
link3[] = {3,4};
link4[] = {3,7};
link5[] = {4,5};
link6[] = {6,3};
link7[] = {7,8};
link8[] = {8,9};
link9[] = {8,10};
link10[] = {9,31};
link11[] = {10,11};
link12[] = {11,12};
link13[] = {11,13};
link14[] = {12,19};
link15[] = {13,14};
link16[] = {14,15};
link17[] = {14,16};
link18[] = {15,23};
link19[] = {16,17};
link20[] = {17,18};
link21[] = {18,11};
link22[] = {19,20};
link23[] = {19,22};
link24[] = {20,19};
link25[] = {21,11};
link26[] = {22,21};
link27[] = {23,31};
link28[] = {24,27};
link29[] = {24,28};
link30[] = {25,24};
link31[] = {26,38};
link32[] = {26,39};
link33[] = {27,26};
link34[] = {28,26};
link35[] = {29,32};
link36[] = {30,35};
link37[] = {31,29};
link38[] = {31,30};
link39[] = {32,33};
link40[] = {32,34};
link41[] = {33,54};
link42[] = {34,36};
link43[] = {35,25};
link44[] = {35,37};
link45[] = {36,35};
link46[] = {37,41};
link47[] = {38,42};
link48[] = {39,40};
link49[] = {40,41};
link50[] = {41,43};
link51[] = {41,44};
link52[] = {43,65};
link53[] = {44,60};
link54[] = {45,67};
link55[] = {45,71};
link56[] = {46,47};
link57[] = {46,49};
link58[] = {47,48};
link59[] = {49,50};
link60[] = {50,51};
link61[] = {50,52};
link62[] = {51,50};
link63[] = {52,45};
link64[] = {60,61};
link65[] = {60,62};
link66[] = {61,63};
link67[] = {62,64};
link68[] = {64,65};
link69[] = {65,66};
link70[] = {66,45};
link71[] = {67,68};
link72[] = {68,69};
link73[] = {68,70};
link74[] = {69,73};
link75[] = {70,72};
link76[] = {71,46};
link77[] = {72,74};
link78[] = {73,72};
link79[] = {74,46};
link80[] = {56,75};
link81[] = {75,56};
link82[] = {57,75};
link83[] = {75,57};
globals[] = {0.000000,0,0,0,0,640,480,1,154,0,1,-1531.297363,692.173096,2111.669434,631.715942,1884,1254,1};
window[] = {2,-1,-1,-1,-31,1375,338,2258,338,3,1902};
*//*%FSM</HEAD>*/
class FSM
{
        fsmName = "rhfsm_actionpoint";
        class States
        {
                /*%FSM<STATE "ACTIONPOINT_CORE">*/
                class ACTIONPOINT_CORE
                {
                        name = "ACTIONPOINT_CORE";
                        itemno = 0;
                        init = /*%FSM<STATEINIT""">*/"private[" \n
                         "	""_ap""," \n
                         "	""_portals""," \n
                         "	""_triggers""," \n
                         "	""_t""," \n
                         "	""_time""," \n
                         "	""_selectedPortals""," \n
                         "	""_size""," \n
                         "	""_p""," \n
                         "	""_portal""," \n
                         "	""_trg""," \n
                         "	""_debugMsg""," \n
                         "	""_clients""," \n
                         "	""_clientsC""," \n
                         "	""_master""," \n
                         "	""_i""" \n
                         "];" \n
                         "" \n
                         "_ap = _this select 0;" \n
                         "_portals = _this select 1;" \n
                         "_tCount = 0;" \n
                         "_selectedPortals = [];" \n
                         "_p = 0;" \n
                         "_i = 0;" \n
                         "_master = objNull;" \n
                         "_size = RHNET_AB_G_AP_SIZE select ((RHNET_AB_G_AP_SIZE find _ap) + 1);" \n
                         "" \n
                         "_PartyType = _ap getVariable [""PartyType"",""Player""];" \n
                         "_PlayersAlive = _ap getVariable [""PlayersAlive"",0];" \n
                         "_SafeLock = _ap getVariable [""SafeLock"",128];" \n
                         "_ExecutePortals = _ap getVariable [""ExecutePortals"",-1];" \n
                         "" \n
                         "_debugMsg = {" \n
                         "	if (RHNET_AB_L_DEBUG) then {" \n
                         "		hintSilent format [""ACTIONBUILDER\nDEBUG\n\nActionpoint:\n%1\n\nMessage:\n%2"", _ap, (_this select 0)];" \n
                         "	};" \n
                         "	true" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "begin">*/
                                class begin
                                {
                                        itemno = 6;
                                        priority = 0.000000;
                                        to="validate";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "fail">*/
                class fail
                {
                        name = "fail";
                        itemno = 2;
                        init = /*%FSM<STATEINIT""">*/"[""Actionpoint %1 validation failed. Variables missing."", _ap] call BIS_fnc_error;" \n
                         "false"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "validate">*/
                class validate
                {
                        name = "validate";
                        itemno = 3;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "missing_variable">*/
                                class missing_variable
                                {
                                        itemno = 1;
                                        priority = 2.000000;
                                        to="fail";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"isNil ""_ap"" || isNil ""_portals"" || isNil ""RHNET_AB_L_DEBUG"""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "no_portals">*/
                                class no_portals
                                {
                                        itemno = 4;
                                        priority = 1.000000;
                                        to="fail_1";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_portals isEqualTo []"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "done">*/
                                class done
                                {
                                        itemno = 7;
                                        priority = 0.000000;
                                        to="condition";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "fail_1">*/
                class fail_1
                {
                        name = "fail_1";
                        itemno = 5;
                        init = /*%FSM<STATEINIT""">*/"[""Actionpoint %1 validation failed. No portals given."", _ap] call BIS_fnc_error;" \n
                         "false"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "condition">*/
                class condition
                {
                        name = "condition";
                        itemno = 8;
                        init = /*%FSM<STATEINIT""">*/"_triggers = [_ap] call BIS_fnc_moduleTriggers;" \n
                         "_tCount = count _triggers;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "triggers">*/
                                class triggers
                                {
                                        itemno = 10;
                                        priority = 1.000000;
                                        to="trigger__t_condi";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_tCount > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_t = 0;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "true">*/
                                class true
                                {
                                        itemno = 9;
                                        priority = 0.000000;
                                        to="PlayersAlive";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "trigger__t_condi">*/
                class trigger__t_condi
                {
                        name = "trigger__t_condi";
                        itemno = 11;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "false">*/
                                class false
                                {
                                        itemno = 12;
                                        priority = 2.000000;
                                        to="waitUntil";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"!(triggerActivated (_triggers select _t))" \n
                                         ""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_time = time + RHNET_AB_L_BUFFER;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "true">*/
                                class true
                                {
                                        itemno = 13;
                                        priority = 0.000000;
                                        to="all_triggers_che";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "all_triggers_che">*/
                class all_triggers_che
                {
                        name = "all_triggers_che";
                        itemno = 14;
                        init = /*%FSM<STATEINIT""">*/"_t = _t + 1;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "false">*/
                                class false
                                {
                                        itemno = 16;
                                        priority = 1.000000;
                                        to="trigger__t_condi";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_tCount > _t"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "true">*/
                                class true
                                {
                                        itemno = 15;
                                        priority = 0.000000;
                                        to="PlayersAlive";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "waitUntil">*/
                class waitUntil
                {
                        name = "waitUntil";
                        itemno = 19;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "idle">*/
                                class idle
                                {
                                        itemno = 20;
                                        priority = 1.000000;
                                        to="waitUntil";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time < _time"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "done">*/
                                class done
                                {
                                        itemno = 22;
                                        priority = 0.000000;
                                        to="trigger__t_condi";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "how_many_to_exec">*/
                class how_many_to_exec
                {
                        name = "how_many_to_exec";
                        itemno = 24;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "some">*/
                                class some
                                {
                                        itemno = 28;
                                        priority = 1.000000;
                                        to="portals_availabl";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_ExecutePortals == 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_selectedPortals = [_portals, (ceil random (count _portals)), true] call Actionbuilder_fnc_selectRandom;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "defined">*/
                                class defined
                                {
                                        itemno = 27;
                                        priority = 0.000000;
                                        to="portals_availabl";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_selectedPortals = [_portals, _ExecutePortals, true] call Actionbuilder_fnc_selectRandom;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "portals_availabl">*/
                class portals_availabl
                {
                        name = "portals_availabl";
                        itemno = 26;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "false">*/
                                class false
                                {
                                        itemno = 38;
                                        priority = 1.000000;
                                        to="no_need_to_conti";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_selectedPortals isEqualTo []"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_time = time + RHNET_AB_L_BUFFER;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "true">*/
                                class true
                                {
                                        itemno = 39;
                                        priority = 0.000000;
                                        to="SafeLock";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "PlayersAlive">*/
                class PlayersAlive
                {
                        name = "PlayersAlive";
                        itemno = 31;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "not_set">*/
                                class not_set
                                {
                                        itemno = 30;
                                        priority = 1.000000;
                                        to="ExecutePortals";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_PlayersAlive < 1"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "set">*/
                                class set
                                {
                                        itemno = 29;
                                        priority = 0.000000;
                                        to="enough_units_ali";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "enough_units_ali">*/
                class enough_units_ali
                {
                        name = "enough_units_ali";
                        itemno = 32;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "false">*/
                                class false
                                {
                                        itemno = 33;
                                        priority = 1.000000;
                                        to="no_need_to_conti_1";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_PlayersAlive > ({alive _x} count (switchableUnits + playableUnits))"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_time = time + RHNET_AB_L_BUFFER;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "true">*/
                                class true
                                {
                                        itemno = 34;
                                        priority = 0.000000;
                                        to="ExecutePortals";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "ExecutePortals">*/
                class ExecutePortals
                {
                        name = "ExecutePortals";
                        itemno = 35;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "all">*/
                                class all
                                {
                                        itemno = 37;
                                        priority = 1.000000;
                                        to="SafeLock";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_ExecutePortals < 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_selectedPortals = _portals;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "set">*/
                                class set
                                {
                                        itemno = 25;
                                        priority = 0.000000;
                                        to="how_many_to_exec";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "SafeLock">*/
                class SafeLock
                {
                        name = "SafeLock";
                        itemno = 41;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "not_set">*/
                                class not_set
                                {
                                        itemno = 43;
                                        priority = 1.000000;
                                        to="get_headless_cli";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_SafeLock < 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "set">*/
                                class set
                                {
                                        itemno = 44;
                                        priority = 0.000000;
                                        to="there_are_room_for";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "no_need_to_conti">*/
                class no_need_to_conti
                {
                        name = "no_need_to_conti";
                        itemno = 42;
                        init = /*%FSM<STATEINIT""">*/"[""There were no suitable portals available.""] call _debugMsg;" \n
                         "true"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "select_a_portal">*/
                class select_a_portal
                {
                        name = "select_a_portal";
                        itemno = 45;
                        init = /*%FSM<STATEINIT""">*/"_portal = _selectedPortals select _p;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "server_spawn">*/
                                class server_spawn
                                {
                                        itemno = 71;
                                        priority = 1.000000;
                                        to="more_portals";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_clientsC < 1"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"[_portal, 0] spawn Actionbuilder_fnc_spawnUnits;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "headless_clients">*/
                                class headless_clients
                                {
                                        itemno = 67;
                                        priority = 0.000000;
                                        to="all_clients_loop";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "more_portals">*/
                class more_portals
                {
                        name = "more_portals";
                        itemno = 46;
                        init = /*%FSM<STATEINIT""">*/"_p = _p + 1;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "false">*/
                                class false
                                {
                                        itemno = 47;
                                        priority = 1.000000;
                                        to="done";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_p >= count _portals"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "true">*/
                                class true
                                {
                                        itemno = 49;
                                        priority = 0.000000;
                                        to="waitUntil_1";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_time = time;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "done">*/
                class done
                {
                        name = "done";
                        itemno = 48;
                        init = /*%FSM<STATEINIT""">*/"true"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "waitUntil_1">*/
                class waitUntil_1
                {
                        name = "waitUntil_1";
                        itemno = 50;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "idle">*/
                                class idle
                                {
                                        itemno = 51;
                                        priority = 1.000000;
                                        to="waitUntil_1";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time < (_time + RHNET_AB_L_BUFFER)"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "ready">*/
                                class ready
                                {
                                        itemno = 52;
                                        priority = 0.000000;
                                        to="select_a_portal";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "All_trigger_conditions">*/
                class All_trigger_conditions
                {
                        name = "All_trigger_conditions";
                        itemno = 53;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "no_need_to_conti_1">*/
                class no_need_to_conti_1
                {
                        name = "no_need_to_conti_1";
                        itemno = 54;
                        init = /*%FSM<STATEINIT""">*/"[""Not enough players alive.""] call _debugMsg;" \n
                         "true"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "_">*/
                class _
                {
                        name = "_";
                        itemno = 55;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "__1">*/
                class __1
                {
                        name = "__1";
                        itemno = 58;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "there_are_room_for">*/
                class there_are_room_for
                {
                        name = "there_are_room_for";
                        itemno = 60;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "false">*/
                                class false
                                {
                                        itemno = 61;
                                        priority = 1.000000;
                                        to="no_need_to_conti_2";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(count allUnits + _size) > _safeLock"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "true">*/
                                class true
                                {
                                        itemno = 62;
                                        priority = 0.000000;
                                        to="get_headless_cli";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "no_need_to_conti_2">*/
                class no_need_to_conti_2
                {
                        name = "no_need_to_conti_2";
                        itemno = 63;
                        init = /*%FSM<STATEINIT""">*/"[""SafeLock prevented spawning.""] call _debugMsg;" \n
                         "true"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "get_headless_cli">*/
                class get_headless_cli
                {
                        name = "get_headless_cli";
                        itemno = 65;
                        init = /*%FSM<STATEINIT""">*/"_clients = [""HeadlessClient_F""] call Actionbuilder_fnc_getEqualTypes;" \n
                         "_clientsC = count _clients;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "spawning_phase">*/
                                class spawning_phase
                                {
                                        itemno = 66;
                                        priority = 1.000000;
                                        to="select_a_portal";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "all_clients_loop">*/
                class all_clients_loop
                {
                        name = "all_clients_loop";
                        itemno = 68;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "false">*/
                                class false
                                {
                                        itemno = 70;
                                        priority = 1.000000;
                                        to="select_the_spawn";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_clientsC > _i"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "true">*/
                                class true
                                {
                                        itemno = 69;
                                        priority = 0.000000;
                                        to="select_the_spawn";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_i = 0;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "select_the_spawn">*/
                class select_the_spawn
                {
                        name = "select_the_spawn";
                        itemno = 72;
                        init = /*%FSM<STATEINIT""">*/"_master = _clients select _i;" \n
                         "_i = _i + 1;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "headless_spawn">*/
                                class headless_spawn
                                {
                                        itemno = 74;
                                        priority = 0.000000;
                                        to="more_portals";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"[_portal, owner _master] remoteExec [""Actionbuilder_fnc_spawnUnits"", _master];"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "____FAKE____">*/
                class ____FAKE____
                {
                        name = "____FAKE____";
                        itemno = 75;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "false">*/
                                class false
                                {
                                        itemno = 57;
                                        priority = 1.000000;
                                        to="____FAKE____";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "true">*/
                                class true
                                {
                                        itemno = 56;
                                        priority = 0.000000;
                                        to="____FAKE____";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
        };
        initState="ACTIONPOINT_CORE";
        finalStates[] =
        {
                "fail",
                "fail_1",
                "no_need_to_conti",
                "done",
                "no_need_to_conti_1",
                "__1",
                "no_need_to_conti_2",
        };
};
/*%FSM</COMPILE>*/